---
/**
 * FlashDraft - Draft Overview Page
 * 
 * Shows list of saved drafts and option to start new draft.
 */

import Layout from '../layouts/Layout.astro';
---

<Layout title="FlashDraft - Draft Overview">
  <main>
    <div id="draft-overview-root"></div>
  </main>
</Layout>

<script>
  import { createRoot } from 'react-dom/client';
  import { createElement } from 'react';
  
  // Dynamic import to avoid Vite React plugin issues
  const initializeComponent = async () => {
    const { default: DraftOverview } = await import('../frontend/components/DraftOverview');
    const container = document.getElementById('draft-overview-root');
    
    if (container) {
      const root = createRoot(container);
      root.render(createElement(DraftOverview));
    }
  };
  
  // Initialize when DOM is ready
  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', initializeComponent);
  } else {
    initializeComponent();
  }
</script>
